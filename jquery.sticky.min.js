/*!
 *	Sticky elements
 *
 *	@author		Mitchell Petty <https://github.com/mpetty/sticky>
 *	@version	v1.0.0
 */
!function(t){"use strict";var i={init:function(i){var e=this;return window.requestAnimationFrame?(this.el=this.getStickyEl(i),this.window=t(window),this.scrollingTimer=!1,this.scrolling=!1,this.lastKnownScrollTop=null,this.scrollTimeout=null,void this.window.on("load resize scroll",function(){e.lastKnownScrollTop=e.window.scrollTop(),e.scrolling||(e.scrolling=!0,e.doSticky()),clearTimeout(e.scrollingTimer),e.scrollingTimer=setTimeout(t.proxy(e.onScrollEnd,e),1e3)})):!1},onScrollEnd:function(){this.scrolling=!1},getStickyEl:function(i){for(var e=[],s=0;s<i.length;s++)t(i[s]).addClass("active"),e.push({el:t(i[s]),links:t("a",t(i[s])),parent:t(i[s]).parent(),height:t(i[s]).outerHeight(),pHeight:t(i[s]).parent().outerHeight(),offset:t(i[s]).parent().offset().top});return e},doSticky:function(){this.window.width()>768&&(t.each(this.el,t.proxy(this.stick,this)),this.scrolling&&window.requestAnimationFrame(t.proxy(this.doSticky,this)))},stick:function(i,e){if(e.el.is(":visible")){var s=this.lastKnownScrollTop;if("bottom"===e.el.data("sticky")&&(s+=this.window.height()-e.el.height(),s<e.offset||0===this.window.scrollTop()?e.el.addClass("hidden"):e.el.removeClass("hidden")),s>e.offset?s>=e.offset+(e.el.parent().height()-e.height)?(e.el.removeClass("fixed"),e.el.css({top:"auto",bottom:"0"})):e.el.removeAttr("style").addClass("fixed"):e.el.removeAttr("style").removeClass("fixed"),e.links.length)for(var l=0;l<e.links.length;l++)t(e.links[l].getAttribute("href")).length&&((t(e.links[l].getAttribute("href")).offset().top-s)/this.window.height()*100<=34?(t(e.links).parent().removeClass("active"),t(e.links[l]).parent().addClass("active")):t(e.links[l]).parent().removeClass("active"))}}};t.fn.sticky=function(e){t.extend(!0,{},t.fn.sticky.defaults,e);return i.init(this),this},t.fn.sticky.defaults={}}(jQuery);